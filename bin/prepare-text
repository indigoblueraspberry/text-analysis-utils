#!/usr/bin/env ruby

text = ARGV.empty? ? STDIN.read : ARGV.map{|a|File.open(a){|f|f.read}}.join("\n\n")
File.open("/tmp/prepared-text", 'w'){|f| f.write(text)}
exec("classify-new-words /tmp/prepared-text && \
	cache-document /tmp/prepared-text && \
	echo '\nREADABILITY STATISTICS' && \
	readability-of /tmp/prepared-text && \
	percentage-known-of /tmp/prepared-text")
